<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AK BAU | Emergency Service 24/7</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&family=Oswald:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0a0a0a;
            --card-bg: #141414;
            --accent-orange: #ff6a00;
            --accent-yellow: #f1ff00;
            --accent-red: #ff0000;
            --success-green: #00ff41;
            --text: #ffffff;
            --font-main: 'Montserrat', sans-serif;
            --font-heading: 'Oswald', sans-serif;
        }

        body { background-color: var(--bg); color: var(--text); font-family: var(--font-main); margin: 0; display: flex; justify-content: center; -webkit-font-smoothing: antialiased; }
        .container { width: 100%; max-width: 500px; background: var(--bg); min-height: 100vh; border-left: 1px solid #222; border-right: 1px solid #222; padding-bottom: 50px; }

        header { padding: 30px 20px; text-align: center; background: linear-gradient(to bottom, #1a1a1a, var(--bg)); }
        .logo { font-family: var(--font-heading); font-size: 50px; font-weight: 700; margin: 0; }
        .logo span:first-child { color: var(--accent-red); }
        .logo span:last-child { color: var(--accent-yellow); }
        
        .status-pill { display: inline-flex; align-items: center; background: rgba(0, 255, 65, 0.1); color: var(--success-green); padding: 6px 14px; border-radius: 50px; font-size: 11px; font-weight: 700; margin-top: 10px; border: 1px solid rgba(0, 255, 65, 0.2); }
        .pulse { width: 7px; height: 7px; background: var(--success-green); border-radius: 50%; margin-right: 8px; animation: pulse-ring 2s infinite; }
        @keyframes pulse-ring { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }

        /* INFO GRID */
        .info-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; padding: 0 20px 20px; text-align: center; }
        .info-step { background: var(--card-bg); padding: 12px 5px; border-radius: 12px; border: 1px solid #222; }
        .info-step i { display: block; font-size: 20px; margin-bottom: 5px; }
        .info-step span { font-size: 9px; font-weight: 900; text-transform: uppercase; display: block; color: var(--accent-orange); margin-bottom: 3px; }
        .info-step p { font-size: 8px; margin: 0; color: #888; line-height: 1.2; }

        .form-section { padding: 0 20px 20px; }
        .card { background: var(--card-bg); padding: 25px 20px; border-radius: 20px; border: 1px solid #2a2a2a; box-shadow: 0 20px 40px rgba(0,0,0,0.5); min-height: 300px; }
        h2 { font-family: var(--font-heading); color: var(--accent-orange); margin: 0; text-transform: uppercase; font-size: 22px; }
        .sub-text { font-size: 11px; color: #666; margin-bottom: 20px; display: block; }

        label { display: block; font-size: 10px; font-weight: 700; margin-bottom: 5px; color: #aaa; text-transform: uppercase; }
        input, select, textarea { width: 100%; padding: 12px; margin-bottom: 12px; background: #000; border: 1px solid #333; color: #fff; border-radius: 10px; box-sizing: border-box; font-family: var(--font-main); font-size: 14px; }
        
        .btn-submit { width: 100%; padding: 18px; background: linear-gradient(45deg, var(--accent-orange), var(--accent-red)); color: white; border: none; border-radius: 10px; font-weight: 900; font-family: var(--font-heading); font-size: 18px; cursor: pointer; text-transform: uppercase; }

        /* SUCCESS UI - HIDDEN BY DEFAULT */
        #success-container { display: none; text-align: center; }
        .success-box { background: rgba(0, 255, 65, 0.1); border: 2px solid var(--success-green); padding: 30px 20px; border-radius: 15px; margin-bottom: 20px; }
        .success-box h3 { color: var(--success-green); font-family: var(--font-heading); font-size: 30px; margin: 10px 0; }
        
        .timeline-vertical { text-align: left; background: #000; padding: 20px; border-radius: 15px; border: 1px solid #222; }
        .t-item { display: flex; align-items: center; margin-bottom: 15px; opacity: 0.5; }
        .t-item.active { opacity: 1; }
        .t-icon { width: 35px; height: 35px; background: #1a1a1a; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 15px; font-size: 16px; border: 1px solid #333; }
        .t-item.active .t-icon { border-color: var(--success-green); color: var(--success-green); box-shadow: 0 0 10px rgba(0, 255, 65, 0.3); }
        .t-text b { display: block; font-size: 12px; text-transform: uppercase; color: var(--accent-yellow); }
        .t-text span { font-size: 11px; color: #888; }

        .quick-actions { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 0 20px; }
        .action-btn { display: flex; align-items: center; justify-content: center; padding: 15px; border-radius: 12px; text-decoration: none; font-weight: 700; font-size: 13px; }
        .call { background: var(--accent-red); color: white; }
        .wa { background: #25d366; color: white; }

        .lang-footer { display: flex; justify-content: center; gap: 20px; margin-top: 40px; padding: 20px; }
        .lang-icon { cursor: pointer; opacity: 0.4; transition: 0.3s; font-size: 24px; filter: grayscale(1); }
        .lang-icon.active { opacity: 1; filter: grayscale(0); transform: scale(1.2); }

        .chat-float { position: fixed; bottom: 20px; right: 20px; background: #25d366; width: 55px; height: 55px; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 5px 15px rgba(0,0,0,0.4); text-decoration: none; font-size: 25px; z-index: 1000; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1 class="logo"><span>AK</span><span>BAU</span></h1>
        <div class="status-pill"><div class="pulse"></div><span id="status-text">SYSTEM ONLINE</span></div>
    </header>

    <section id="top-steps" class="info-grid">
        <div class="info-step"><i>üì©</i><span id="s1-t">MELDUNG</span><p id="s1-p">Senden</p></div>
        <div class="info-step"><i>üìû</i><span id="s2-t">KONTAKT</span><p id="s2-p">5 Min.</p></div>
        <div class="info-step"><i>üõ†Ô∏è</i><span id="s3-t">HILFE</span><p id="s3-p">Sofort</p></div>
    </section>

    <section class="form-section">
        <div class="card">
            <div id="form-content">
                <h2 id="f-title">NOTFALL-SERVICE</h2>
                <span id="f-sub" class="sub-text">24h Hilfe bei St√∂rungen</span>
                
                <form id="sosForm" action="https://formsubmit.co/ajax/adrianmikigo@gmail.com" method="POST">
                    <label id="l-type">St√∂rung / Awaria</label>
                    <select id="type" name="type">
                        <option value="Wasserschaden" id="opt-w">üíß Wasserschaden</option>
                        <option value="Stromausfall" id="opt-e">‚ö° Stromausfall</option>
                        <option value="Fahrzeug SOS" id="opt-a">üöó Fahrzeug SOS</option>
                        <option value="Feuer" id="opt-f">üî• Feuer / Brand</option>
                        <option value="Sonstiges" id="opt-o">‚öôÔ∏è Sonstiges</option>
                    </select>

                    <label id="l-name">Name</label>
                    <input type="text" id="name" name="name" placeholder="Name..." required>

                    <label id="l-phone">Telefon</label>
                    <input type="tel" id="phone" name="phone" placeholder="0123..." required>

                    <label id="l-msg">Beschreibung / Opis</label>
                    <textarea id="message" name="message" rows="3" placeholder="..." required></textarea>
                    
                    <button type="submit" id="submitBtn" class="btn-submit">SOS ABSENDEN</button>
                </form>
            </div>

            <div id="success-container">
                <div class="success-box">
                    <span style="font-size: 50px;">‚úÖ</span>
                    <h3 id="suc-h">GESENDET!</h3>
                    <p id="suc-p" style="font-size: 14px; margin: 0; color: #fff;">Zg≈Çoszenie wys≈Çane pomy≈õlnie.</p>
                </div>

                <div class="timeline-vertical">
                    <div class="t-item active">
                        <div class="t-icon">üì©</div>
                        <div class="t-text"><b id="t1-h">Meldung erhalten</b><span id="t1-s">System AK BAU best√§tigt</span></div>
                    </div>
                    <div class="t-item active">
                        <div class="t-icon">üìû</div>
                        <div class="t-text"><b id="t2-h">R√ºckruf bereit</b><span id="t2-s">Wartezeit: ok. 5 Min</span></div>
                    </div>
                    <div class="t-item active">
                        <div class="t-icon">üõ†Ô∏è</div>
                        <div class="t-text"><b id="t3-h">Techniker bereit</b><span id="t3-s">Hilfe na drodze</span></div>
                    </div>
                </div>
                <p id="suc-foot" style="margin-top: 20px; font-size: 11px; color: var(--accent-yellow);">Bitte bleiben Sie am Telefon!</p>
            </div>
        </div>
    </section>

    <div class="quick-actions">
        <a href="tel:017684916817" class="action-btn call" id="btn-call">üìû ANRUFEN</a>
        <a href="https://wa.me/4917684916817" class="action-btn wa">üí¨ WHATSAPP</a>
    </div>

    <div class="lang-footer">
        <span class="lang-icon active" id="ico-de" onclick="setLang('de')">üá©üá™</span>
        <span class="lang-icon" id="ico-pl" onclick="setLang('pl')">üáµüá±</span>
    </div>

    <footer style="text-align: center; font-size: 8px; color: #333; padding: 20px 0;">
        &copy; 2026 AK BAU EMERGENCY SERVICE
    </footer>
</div>

<a href="https://wa.me/4917684916817" class="chat-float">üí¨</a>

<script>
    const dict = {
        de: {
            status: "SYSTEM ONLINE / BEREIT",
            s1t: "MELDUNG", s1p: "Senden",
            s2t: "KONTAKT", s2p: "5 Min.",
            s3t: "HILFE", s3p: "Sofort",
            title: "NOTFALL-SERVICE", sub: "24h Hilfe bei St√∂rungen",
            ltype: "ART DER ST√ñRUNG", lname: "NAME", lphone: "TELEFON", lmsg: "BESCHREIBUNG",
            optw: "üíß Wasserschaden", opte: "‚ö° Stromausfall", opta: "üöó Fahrzeug SOS", optf: "üî• Feuer / Brand", opto: "‚öôÔ∏è Sonstiges",
            btn: "SOS ABSENDEN", call: "üìû ANRUFEN",
            sucH: "GESENDET!", sucP: "Vielen Dank. Meldung erfolgreich.",
            t1h: "Meldung erhalten", t1s: "System AK BAU best√§tigt",
            t2h: "R√ºckruf bereit", t2s: "Wartezeit: ca. 5 Min",
            t3h: "Techniker bereit", t3s: "Hilfe ist unterwegs",
            sucF: "Bitte bleiben Sie am Telefon!"
        },
        pl: {
            status: "SYSTEM ONLINE / GOTOWO≈öƒÜ",
            s1t: "ZG≈ÅOSZENIE", s1p: "Wy≈õlij",
            s2t: "KONTAKT", s2p: "5 Min.",
            s3t: "POMOC", s3p: "Natychmiast",
            title: "POGOTOWIE TECHNICZNE", sub: "Pomoc 24h w awariach",
            ltype: "RODZAJ AWARII", lname: "IMIƒò", lphone: "TELEFON", lmsg: "OPIS PROBLEMU",
            optw: "üíß Awaria wody", opte: "‚ö° Brak prƒÖdu", opta: "üöó Auto SOS", optf: "üî• Po≈ºar / Ogie≈Ñ", opto: "‚öôÔ∏è Inne",
            btn: "WY≈öLIJ SOS", call: "üìû ZADZWO≈É",
            sucH: "WYS≈ÅANO!", sucP: "Dziƒôkujemy. Zg≈Çoszenie wys≈Çane.",
            t1h: "Zg≈Çoszenie odebrane", t1s: "System AK BAU potwierdzi≈Ç",
            t2h: "Trwa przygotowanie", t2s: "Oddzwonimy w ok. 5 min",
            t3h: "Technik w gotowo≈õci", t3s: "Pomoc jest w drodze",
            sucF: "Proszƒô czekaƒá na telefon!"
        }
    };

    function setLang(lang) {
        document.getElementById('ico-de').classList.toggle('active', lang === 'de');
        document.getElementById('ico-pl').classList.toggle('active', lang === 'pl');
        const d = dict[lang];
        
        document.getElementById('status-text').textContent = d.status;
        document.getElementById('s1-t').textContent = d.s1t; document.getElementById('s1-p').textContent = d.s1p;
        document.getElementById('s2-t').textContent = d.s2t; document.getElementById('s2-p').textContent = d.s2p;
        document.getElementById('s3-t').textContent = d.s3t; document.getElementById('s3-p').textContent = d.s3p;
        document.getElementById('f-title').textContent = d.title;
        document.getElementById('f-sub').textContent = d.sub;
        document.getElementById('l-type').textContent = d.ltype;
        document.getElementById('l-name').textContent = d.lname;
        document.getElementById('l-phone').textContent = d.lphone;
        document.getElementById('l-msg').textContent = d.lmsg;
        document.getElementById('opt-w').textContent = d.optw;
        document.getElementById('opt-e').textContent = d.opte;
        document.getElementById('opt-a').textContent = d.opta;
        document.getElementById('opt-f').textContent = d.optf;
        document.getElementById('opt-o').textContent = d.opto;
        document.getElementById('submitBtn').textContent = d.btn;
        document.getElementById('btn-call').textContent = d.call;
        document.getElementById('name').placeholder = lang === 'de' ? "Name..." : "Imiƒô...";
        document.getElementById('phone').placeholder = lang === 'de' ? "Tel..." : "Telefon...";
        
        // Success lang
        document.getElementById('suc-h').textContent = d.sucH;
        document.getElementById('suc-p').textContent = d.sucP;
        document.getElementById('t1-h').textContent = d.t1h; document.getElementById('t1-s').textContent = d.t1s;
        document.getElementById('t2-h').textContent = d.t2h; document.getElementById('t2-s').textContent = d.t2s;
        document.getElementById('t3-h').textContent = d.t3h; document.getElementById('t3-s').textContent = d.t3s;
        document.getElementById('suc-foot').textContent = d.sucF;
    }

    setLang('de');

    const form = document.getElementById('sosForm');
    form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Dane
        const valType = document.getElementById('type').value;
        const valName = document.getElementById('name').value;
        const valPhone = document.getElementById('phone').value;
        const valMsg = document.getElementById('message').value;

        // Blokada przycisku
        document.getElementById('submitBtn').disabled = true;
        document.getElementById('submitBtn').textContent = "...";

        // 1. NTFY (Wysy≈Çamy od razu)
        const messageBody = `üö® AWARIA: ${valType}\nüë§ Klient: ${valName}\nüìû Tel: ${valPhone}\nüìù Opis: ${valMsg}`;
        const nUrl = `https://ntfy.sh/akbau_emergency_2026/publish?message=${encodeURIComponent(messageBody)}&title=AK_BAU_SOS&priority=5&tags=warning,phone&click=tel:${valPhone}`;
        new Image().src = nUrl;

        // 2. EMAIL + Zmiana widoku (niezale≈ºnie od sukcesu emaila, ≈ºeby klient widzia≈Ç sukces)
        fetch(form.action, { method: 'POST', body: new FormData(form), headers: {'Accept': 'application/json'}})
        .finally(() => {
            // Czy≈õcimy i pokazujemy sukces
            form.reset();
            document.getElementById('form-content').style.display = 'none';
            document.getElementById('top-steps').style.display = 'none';
            document.getElementById('success-container').style.display = 'block';
            window.scrollTo(0, 0); // Przewi≈Ñ na g√≥rƒô karty
        });
    });
</script>
</body>
</html>
